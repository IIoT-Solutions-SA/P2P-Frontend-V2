{
  "version": 3,
  "sources": ["../../supertokens-website/utils/error/index.js", "../../supertokens-web-js/lib/build/error.js", "../../supertokens-website/utils/cookieHandler/index.js", "../../supertokens-web-js/lib/build/cookieHandler/index.js", "../../supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js", "../../supertokens-web-js/lib/build/recipe/recipeModule/utils.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/utils.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/utils.js", "../../supertokens-web-js/lib/build/version.js", "../../supertokens-web-js/lib/build/querier.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipeImplementation.js", "../../supertokens-web-js/lib/build/recipe/authRecipe/index.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/recipe.js", "../../supertokens-website/utils/dateProvider/index.js", "../../supertokens-web-js/lib/build/dateProvider/index.js", "../../supertokens-web-js/lib/build/supertokens.js", "../../supertokens-web-js/lib/build/index.js", "../../supertokens-web-js/index.js", "../../supertokens-web-js/utils/cookieHandler/index.js", "../../supertokens-web-js/utils/postSuperTokensInitCallbacks.js", "../../supertokens-web-js/utils/windowHandler/index.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/allowedDomainsClaim.js", "../../supertokens-web-js/lib/build/recipe/multitenancy/index.js", "../../supertokens-web-js/recipe/multitenancy/index.js", "../../supertokens-web-js/utils/index.js", "../../supertokens-web-js/utils/normalisedURLDomain.js", "../../supertokens-web-js/utils/normalisedURLPath.js", "../../supertokens-auth-react/lib/build/genericComponentOverrideContext.js", "../../supertokens-auth-react/lib/build/recipeModule-shared.js", "../../supertokens-web-js/lib/build/recipe/oauth2provider/utils.js", "../../supertokens-web-js/lib/build/recipe/oauth2provider/recipeImplementation.js", "../../supertokens-web-js/lib/build/recipe/oauth2provider/recipe.js", "../../supertokens-web-js/lib/build/recipe/oauth2provider/index.js", "../../supertokens-web-js/recipe/oauth2provider/index.js", "../../supertokens-auth-react/lib/build/oauth2provider-shared.js", "../../supertokens-auth-react/lib/build/multifactorauth-shared.js", "../../supertokens-auth-react/lib/build/authRecipe-shared.js"],
  "sourcesContent": ["/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../../lib/build/error\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar error_1 = require(\"supertokens-website/utils/error\");\nexports.default = error_1.STGeneralError;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/cookieHandler\"));\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieHandlerReference = void 0;\nvar cookieHandler_1 = require(\"supertokens-website/utils/cookieHandler\");\nObject.defineProperty(exports, \"CookieHandlerReference\", {\n    enumerable: true,\n    get: function () {\n        return cookieHandler_1.CookieHandlerReference;\n    },\n});\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PostSuperTokensInitCallbacks = void 0;\nvar PostSuperTokensInitCallbacks = /** @class */ (function () {\n    function PostSuperTokensInitCallbacks() {}\n    PostSuperTokensInitCallbacks.addPostInitCallback = function (cb) {\n        PostSuperTokensInitCallbacks.postInitCallbacks.push(cb);\n    };\n    PostSuperTokensInitCallbacks.runPostInitCallbacks = function () {\n        for (var _i = 0, _a = PostSuperTokensInitCallbacks.postInitCallbacks; _i < _a.length; _i++) {\n            var cb = _a[_i];\n            cb();\n        }\n    };\n    PostSuperTokensInitCallbacks.postInitCallbacks = [];\n    return PostSuperTokensInitCallbacks;\n})();\nexports.PostSuperTokensInitCallbacks = PostSuperTokensInitCallbacks;\n", "\"use strict\";\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseRecipeModuleConfig = void 0;\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    var preAPIHook = config.preAPIHook;\n    if (preAPIHook === undefined) {\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    var postAPIHook = config.postAPIHook;\n    if (postAPIHook === undefined) {\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    return {\n        recipeId: config.recipeId,\n        appInfo: config.appInfo,\n        clientType: config.clientType,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n    };\n}\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseAuthRecipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../recipeModule/utils\");\nfunction normaliseAuthRecipe(config) {\n    return (0, utils_1.normaliseRecipeModuleConfig)(config);\n}\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseUserInput = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../authRecipe/utils\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"0.15.0\";\nexports.supported_fdi = [\"3.1\", \"4.0\", \"4.1\"];\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar normalisedURLPath_1 = require(\"./normalisedURLPath\");\nvar version_1 = require(\"./version\");\nvar error_1 = require(\"./error\");\n/**\n * When network calls are made the Querier calls .clone() on the response before:\n * 1. Calling the post API hook\n * 2. Calling .json() when trying to read the body\n *\n * This is because the SDK needs to read the json body but we also want to allow users to read\n * the json body themselves (either in the post api hook or from the result of recipe functions)\n * for custom response handling. Since the body can only be read once we use .clone() to allow\n * for multiple reads.\n */\nvar Querier = /** @class */ (function () {\n    function Querier(recipeId, appInfo) {\n        var _this = this;\n        this.recipeId = recipeId;\n        this.appInfo = appInfo;\n        this.get = function (tenantId, path, config, queryParams, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path, queryParams),\n                                    __assign({ method: \"GET\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.post = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (config.body === undefined) {\n                                throw new Error(\"Post request must have a body\");\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"POST\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.delete = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"DELETE\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.put = function (tenantId, path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(tenantId, path),\n                                    __assign({ method: \"PUT\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.fetch = function (url, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var headers, _b, requestInit, modifiedUrl, result, reponseForPostAPI;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (config === undefined) {\n                                headers = {};\n                            } else {\n                                headers = config.headers;\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.callPreAPIHook({\n                                    preAPIHook: preAPIHook,\n                                    url: url,\n                                    requestInit: __assign(__assign({}, config), {\n                                        headers: __assign(__assign({}, headers), {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            \"Content-Type\": \"application/json\",\n                                            rid: this.recipeId,\n                                        }),\n                                    }),\n                                }),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (requestInit = _b.requestInit), (modifiedUrl = _b.url);\n                            return [4 /*yield*/, fetch(modifiedUrl, requestInit)];\n                        case 2:\n                            result = _c.sent();\n                            if (result.status >= 300) {\n                                throw result;\n                            }\n                            if (!(postAPIHook !== undefined)) return [3 /*break*/, 4];\n                            reponseForPostAPI = result.clone();\n                            return [\n                                4 /*yield*/,\n                                postAPIHook({\n                                    requestInit: requestInit,\n                                    url: url,\n                                    fetchResponse: reponseForPostAPI,\n                                }),\n                            ];\n                        case 3:\n                            _c.sent();\n                            _c.label = 4;\n                        case 4:\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        /*\n         * For backward compatibility\n         */\n        this.callPreAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (context.preAPIHook === undefined) {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        url: context.url,\n                                        requestInit: context.requestInit,\n                                    },\n                                ];\n                            }\n                            return [\n                                4 /*yield*/,\n                                context.preAPIHook({\n                                    url: context.url,\n                                    requestInit: context.requestInit,\n                                }),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        this.getFullUrl = function (tenantId, pathStr, queryParams) {\n            var basePath = _this.appInfo.apiBasePath.getAsStringDangerous();\n            if (tenantId !== undefined && tenantId !== \"public\") {\n                basePath = \"\".concat(basePath, \"/\").concat(tenantId);\n            }\n            var path = new normalisedURLPath_1.default(pathStr);\n            var fullUrl = \"\"\n                .concat(_this.appInfo.apiDomain.getAsStringDangerous())\n                .concat(basePath)\n                .concat(path.getAsStringDangerous());\n            if (queryParams === undefined) {\n                return fullUrl;\n            }\n            // If query params, add.\n            return fullUrl + \"?\" + new URLSearchParams(queryParams);\n        };\n        this.getResponseJsonOrThrowGeneralError = function (response) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var json, message;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [4 /*yield*/, response.clone().json()];\n                        case 1:\n                            json = _b.sent();\n                            if (json.status === \"GENERAL_ERROR\") {\n                                message = json.message === undefined ? \"No Error Message Provided\" : json.message;\n                                throw new error_1.default(message);\n                            }\n                            return [2 /*return*/, json];\n                    }\n                });\n            });\n        };\n    }\n    var _a;\n    _a = Querier;\n    Querier.preparePreAPIHook = function (_b) {\n        var recipePreAPIHook = _b.recipePreAPIHook,\n            action = _b.action,\n            options = _b.options,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var postRecipeHookContext;\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePreAPIHook(\n                                    __assign(__assign({}, context), { action: action, userContext: userContext })\n                                ),\n                            ];\n                        case 1:\n                            postRecipeHookContext = _b.sent();\n                            if (options === undefined || options.preAPIHook === undefined) {\n                                return [2 /*return*/, postRecipeHookContext];\n                            }\n                            return [\n                                2 /*return*/,\n                                options.preAPIHook({\n                                    url: postRecipeHookContext.url,\n                                    requestInit: postRecipeHookContext.requestInit,\n                                    userContext: userContext,\n                                }),\n                            ];\n                    }\n                });\n            });\n        };\n    };\n    Querier.preparePostAPIHook = function (_b) {\n        var recipePostAPIHook = _b.recipePostAPIHook,\n            action = _b.action,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePostAPIHook(\n                                    __assign(__assign({}, context), { userContext: userContext, action: action })\n                                ),\n                            ];\n                        case 1:\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    };\n    return Querier;\n})();\nexports.default = Querier;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRecipeImplementation = void 0;\nvar querier_1 = require(\"../../querier\");\nvar utils_1 = require(\"../../utils\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        getTenantId: function () {\n            var queryParam = (0, utils_1.getQueryParams)(\"tenantId\");\n            if ((queryParam === null || queryParam === void 0 ? void 0 : queryParam.trim()) === \"\") {\n                return undefined; // This defaults to the \"public\" tenant\n            }\n            return queryParam;\n        },\n        getLoginMethods: function (_a) {\n            var tenantId = _a.tenantId,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var queryParams, _b, jsonBody, fetchResponse, firstFactors;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            queryParams = {};\n                            if (recipeImplInput.clientType !== undefined) {\n                                queryParams.clientType = recipeImplInput.clientType;\n                            }\n                            return [\n                                4 /*yield*/,\n                                querier.get(\n                                    tenantId,\n                                    \"/loginmethods\",\n                                    {},\n                                    queryParams,\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_LOGIN_METHODS\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            if (jsonBody.firstFactors === undefined) {\n                                firstFactors = [];\n                                if (jsonBody.emailPassword.enabled) {\n                                    firstFactors.push(\"emailpassword\");\n                                }\n                                if (jsonBody.thirdParty.enabled) {\n                                    firstFactors.push(\"thirdparty\");\n                                }\n                                if (jsonBody.passwordless.enabled) {\n                                    firstFactors.push(\"otp-email\");\n                                    firstFactors.push(\"otp-phone\");\n                                    firstFactors.push(\"link-email\");\n                                    firstFactors.push(\"link-phone\");\n                                }\n                            } else {\n                                firstFactors = jsonBody.firstFactors;\n                            }\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: \"OK\",\n                                    thirdParty: {\n                                        providers: jsonBody.thirdParty.providers,\n                                    },\n                                    firstFactors: firstFactors,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n    };\n}\nexports.default = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar recipeModule_1 = require(\"../recipeModule\");\nvar recipe_1 = require(\"../session/recipe\");\nvar AuthRecipe = /** @class */ (function (_super) {\n    __extends(AuthRecipe, _super);\n    function AuthRecipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.signOut = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default.getInstanceOrThrow().signOut({\n                                    userContext: input.userContext,\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    return AuthRecipe;\n})(recipeModule_1.default);\nexports.default = AuthRecipe;\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\nvar utils_1 = require(\"./utils\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar utils_2 = require(\"../../utils\");\nvar authRecipe_1 = require(\"../authRecipe\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                clientType: _this.config.clientType,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, clientType) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), { recipeId: Recipe.RECIPE_ID, appInfo: appInfo, clientType: clientType })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Multitenancy found. Ensure that 'SuperTokens.init' method has been called.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"multitenancy\";\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/utils/dateProvider\"));\n", "\"use strict\";\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DateProviderReference = void 0;\nvar dateProvider_1 = require(\"supertokens-website/utils/dateProvider\");\nObject.defineProperty(exports, \"DateProviderReference\", {\n    enumerable: true,\n    get: function () {\n        return dateProvider_1.DateProviderReference;\n    },\n});\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"./utils\");\nvar cookieHandler_1 = require(\"./cookieHandler\");\nvar windowHandler_1 = require(\"./windowHandler\");\nvar postSuperTokensInitCallbacks_1 = require(\"./postSuperTokensInitCallbacks\");\nvar recipe_1 = require(\"./recipe/multitenancy/recipe\");\nvar dateProvider_1 = require(\"./dateProvider\");\nvar SuperTokens = /** @class */ (function () {\n    function SuperTokens(config) {\n        var _this = this;\n        this.recipeList = [];\n        this.appInfo = (0, utils_1.normaliseInputAppInfoOrThrowError)(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var enableDebugLogs = false;\n        if (config.enableDebugLogs !== undefined) {\n            enableDebugLogs = config.enableDebugLogs;\n        }\n        var multitenancyFound = false;\n        this.recipeList = config.recipeList.map(function (recipe) {\n            var recipeInstance = recipe(_this.appInfo, config.clientType, enableDebugLogs);\n            if (recipeInstance.config.recipeId === recipe_1.Recipe.RECIPE_ID) {\n                multitenancyFound = true;\n            }\n            return recipeInstance;\n        });\n        if (!multitenancyFound) {\n            this.recipeList.push(recipe_1.Recipe.init()(this.appInfo, config.clientType, enableDebugLogs));\n        }\n    }\n    /**\n     * Initialise the SuperTokens SDK. Calling this function multiple times results\n     * in a warning and has no other effect\n     *\n     * @param config The configuration the SDK should use\n     */\n    SuperTokens.init = function (config) {\n        cookieHandler_1.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler_1.WindowHandlerReference.init(config.windowHandler);\n        dateProvider_1.DateProviderReference.init(config.dateProvider);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokens.instance = new SuperTokens(config);\n        postSuperTokensInitCallbacks_1.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    /**\n     * Retrieve an instance of SuperTokens\n     *\n     * @returns An instance of SuperTokens\n     *\n     * @throws If SuperTokens.init has not been called before using this function\n     */\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            console.warn(\"Calling reset() is only supported during testing\");\n            return;\n        }\n        // We reset the multitenancy recipe here because we are auto-initializing it\n        // and we should always be resetting it when we reset the SDK\n        recipe_1.Recipe.reset();\n        SuperTokens.instance = undefined;\n        return;\n    };\n    return SuperTokens;\n})();\nexports.default = SuperTokens;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.init = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar supertokens_1 = require(\"./supertokens\");\nvar SuperTokensAPIWrapper = /** @class */ (function () {\n    function SuperTokensAPIWrapper() {}\n    SuperTokensAPIWrapper.init = function (config) {\n        supertokens_1.default.init(config);\n    };\n    return SuperTokensAPIWrapper;\n})();\nexports.default = SuperTokensAPIWrapper;\nexports.init = SuperTokensAPIWrapper.init;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"./lib/build/\"));\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../../lib/build/cookieHandler\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../lib/build/postSuperTokensInitCallbacks\"));\n", "/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/windowHandler\"));\n", "\"use strict\";\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AllowedDomainsClaim = exports.AllowedDomainsClaimClass = void 0;\nvar windowHandler_1 = require(\"supertokens-website/utils/windowHandler\");\nvar session_1 = require(\"../session\");\n/**\n * We include \"Class\" in the class name, because it makes it easier to import/use the right thing (the instance exported by the recipe) instead of this.\n * */\nvar AllowedDomainsClaimClass = /** @class */ (function (_super) {\n    __extends(AllowedDomainsClaimClass, _super);\n    function AllowedDomainsClaimClass() {\n        var _this =\n            _super.call(this, {\n                id: \"st-t-dmns\",\n                refresh: function () {\n                    return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            return [2 /*return*/];\n                        });\n                    });\n                },\n                defaultMaxAgeInSeconds: Number.MAX_SAFE_INTEGER,\n            }) || this;\n        _this.validators = __assign(__assign({}, _this.validators), {\n            hasAccessToCurrentDomain: function () {\n                return {\n                    id: _this.id,\n                    refresh: _this.refresh,\n                    shouldRefresh: function () {\n                        return false; // Can't automatically refresh\n                    },\n                    validate: function (payload, userContext) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var currentDomain, includesValidator;\n                            return __generator(this, function (_a) {\n                                currentDomain =\n                                    windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName();\n                                includesValidator = this.validators.includes(\n                                    currentDomain,\n                                    Number.MAX_SAFE_INTEGER,\n                                    this.id\n                                );\n                                return [2 /*return*/, includesValidator.validate(payload, userContext)];\n                            });\n                        });\n                    },\n                };\n            },\n        });\n        return _this;\n    }\n    return AllowedDomainsClaimClass;\n})(session_1.PrimitiveArrayClaim);\nexports.AllowedDomainsClaimClass = AllowedDomainsClaimClass;\nexports.AllowedDomainsClaim = new AllowedDomainsClaimClass();\n", "\"use strict\";\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AllowedDomainsClaim = exports.getTenantId = exports.getLoginMethods = exports.init = void 0;\nvar utils_1 = require(\"../../utils\");\nvar allowedDomainsClaim_1 = require(\"./allowedDomainsClaim\");\nObject.defineProperty(exports, \"AllowedDomainsClaim\", {\n    enumerable: true,\n    get: function () {\n        return allowedDomainsClaim_1.AllowedDomainsClaim;\n    },\n});\nvar recipe_1 = require(\"./recipe\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    /**\n     * Gets enabled login methods and their configuration from the backend\n     *\n     * @param tenantId (OPTIONAL) The identifier for the tenant.\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     *\n     * @returns `{status: OK, emailpassword, passwordless, thirdParty}` if successful\n     */\n    RecipeWrapper.getLoginMethods = function (input) {\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.getLoginMethods(\n            __assign(__assign({}, input), {\n                userContext: (0, utils_1.getNormalisedUserContext)(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    /**\n     * Gets enabled login methods and their configuration from the backend\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @returns `Promise<string | undefined> | string | undefined`\n     */\n    RecipeWrapper.getTenantId = function (input) {\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.getTenantId(\n            __assign(__assign({}, input), {\n                userContext: (0, utils_1.getNormalisedUserContext)(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    RecipeWrapper.AllowedDomainsClaim = allowedDomainsClaim_1.AllowedDomainsClaim;\n    return RecipeWrapper;\n})();\nexports.default = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar getLoginMethods = RecipeWrapper.getLoginMethods;\nexports.getLoginMethods = getLoginMethods;\nvar getTenantId = RecipeWrapper.getTenantId;\nexports.getTenantId = getTenantId;\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/recipe/multitenancy\"));\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/utils\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/normalisedURLDomain\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = require(\"../lib/build/normalisedURLPath\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n", "\"use strict\";\n\nvar SuperTokensWebJS = require(\"supertokens-web-js\");\nvar cookieHandler = require(\"supertokens-web-js/utils/cookieHandler\");\nvar postSuperTokensInitCallbacks = require(\"supertokens-web-js/utils/postSuperTokensInitCallbacks\");\nvar windowHandler = require(\"supertokens-web-js/utils/windowHandler\");\nvar MultitenancyWebJS = require(\"supertokens-web-js/recipe/multitenancy\");\nvar utils = require(\"supertokens-web-js/utils\");\nvar React = require(\"react\");\nvar STGeneralError = require(\"supertokens-web-js/lib/build/error\");\nvar NormalisedURLDomain = require(\"supertokens-web-js/utils/normalisedURLDomain\");\nvar NormalisedURLPath = require(\"supertokens-web-js/utils/normalisedURLPath\");\nvar jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar SuperTokensWebJS__default = /*#__PURE__*/ _interopDefault(SuperTokensWebJS);\nvar MultitenancyWebJS__default = /*#__PURE__*/ _interopDefault(MultitenancyWebJS);\nvar React__default = /*#__PURE__*/ _interopDefault(React);\nvar STGeneralError__default = /*#__PURE__*/ _interopDefault(STGeneralError);\nvar NormalisedURLDomain__default = /*#__PURE__*/ _interopDefault(NormalisedURLDomain);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\n\n/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\n\nvar extendStatics = function (d, b) {\n    extendStatics =\n        Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &&\n            function (d, b) {\n                d.__proto__ = b;\n            }) ||\n        function (d, b) {\n            for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n    return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n    if (typeof b !== \"function\" && b !== null)\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n        this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n}\n\nexports.__assign = function () {\n    exports.__assign =\n        Object.assign ||\n        function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n    return exports.__assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n    return t;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P\n            ? value\n            : new P(function (resolve) {\n                  resolve(value);\n              });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\n\nfunction __generator(thisArg, body) {\n    var _ = {\n            label: 0,\n            sent: function () {\n                if (t[0] & 1) throw t[1];\n                return t[1];\n            },\n            trys: [],\n            ops: [],\n        },\n        f,\n        y,\n        t,\n        g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return (\n        (g.next = verb(0)),\n        (g[\"throw\"] = verb(1)),\n        (g[\"return\"] = verb(2)),\n        typeof Symbol === \"function\" &&\n            (g[Symbol.iterator] = function () {\n                return this;\n            }),\n        g\n    );\n    function verb(n) {\n        return function (v) {\n            return step([n, v]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while ((g && ((g = 0), op[0] && (_ = 0)), _))\n            try {\n                if (\n                    ((f = 1),\n                    y &&\n                        (t =\n                            op[0] & 2\n                                ? y[\"return\"]\n                                : op[0]\n                                ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                : y.next) &&\n                        !(t = t.call(y, op[1])).done)\n                )\n                    return t;\n                if (((y = 0), t)) op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!((t = _.trys), (t = t.length > 0 && t[t.length - 1])) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2]) _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            } catch (e) {\n                op = [6, e];\n                y = 0;\n            } finally {\n                f = t = 0;\n            }\n        if (op[0] & 5) throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n}\n\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\n\ntypeof SuppressedError === \"function\"\n    ? SuppressedError\n    : function (error, suppressed, message) {\n          var e = new Error(message);\n          return (e.name = \"SuppressedError\"), (e.error = error), (e.suppressed = suppressed), e;\n      };\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Consts.\n */\nvar RECIPE_ID_QUERY_PARAM = \"rid\";\nvar TENANT_ID_QUERY_PARAM = \"tenantId\";\nvar DEFAULT_API_BASE_PATH = \"/auth\";\nvar DEFAULT_WEBSITE_BASE_PATH = \"/auth\";\nvar ST_ROOT_ID = \"supertokens-root\";\nvar SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar package_version = \"0.49.1\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar SUPERTOKENS_DEBUG_NAMESPACE = \"com.supertokens.auth-react\";\nvar __debugLogsEnabled = false;\nfunction enableLogging() {\n    __debugLogsEnabled = true;\n}\nfunction logDebugMessage(message) {\n    if (__debugLogsEnabled) {\n        // eslint-disable-next-line no-console\n        console.log(\n            \"\"\n                .concat(SUPERTOKENS_DEBUG_NAMESPACE, ' {t: \"')\n                .concat(new Date().toISOString(), '\", message: \"')\n                .concat(message, '\", supertokens-auth-react-ver: \"')\n                .concat(package_version, '\"}')\n        );\n    }\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * getRecipeIdFromPath\n * Input:\n * Output: The \"rid\" query param if present, null otherwise.\n */\nfunction getRecipeIdFromSearch(search) {\n    var urlParams = new URLSearchParams(search);\n    return urlParams.get(RECIPE_ID_QUERY_PARAM);\n}\nfunction clearQueryParams(paramNames) {\n    var newURL = new URL(windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref());\n    for (var _i = 0, paramNames_1 = paramNames; _i < paramNames_1.length; _i++) {\n        var param = paramNames_1[_i];\n        newURL.searchParams.delete(param);\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.replaceState(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.getState(),\n        \"\",\n        newURL.toString()\n    );\n}\nfunction updateQueryParam(name, value) {\n    var newURL = new URL(windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref());\n    newURL.searchParams.set(name, value);\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.replaceState(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.getState(),\n        \"\",\n        newURL.toString()\n    );\n}\nfunction clearErrorQueryParam() {\n    clearQueryParams([\"error\", \"message\"]);\n}\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    return urlParams.get(param);\n}\nfunction getURLHash() {\n    // By default it is returined with the \"#\" at the beginning, we cut that off here.\n    return windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substr(1);\n}\nfunction getRedirectToPathFromURL() {\n    var redirectToPath = getQueryParams(\"redirectToPath\");\n    if (redirectToPath === null) {\n        return undefined;\n    } else {\n        try {\n            var url = void 0;\n            try {\n                url = new URL(redirectToPath);\n            } catch (error) {\n                var fakeDomain = redirectToPath.startsWith(\"/\") ? \"http://localhost\" : \"http://localhost/\";\n                url = new URL(\"\".concat(fakeDomain).concat(redirectToPath));\n            }\n            // Prevent Open redirects by normalising path.\n            var normalisedURLPath = new NormalisedURLPath__default.default(redirectToPath).getAsStringDangerous();\n            var pathQueryParams = url.search || \"\"; // url.search contains the leading ?\n            var pathHash = url.hash || \"\"; // url.hash contains the leading #\n            var pathWithQueryParamsAndHash = normalisedURLPath + pathQueryParams + pathHash;\n            // Ensure a leading \"/\" if `normalisedUrlPath` is empty but `pathWithQueryParamsAndHash` is not to ensure proper redirection.\n            // Example: \"?test=1\" will not redirect the user to `/?test=1` if we don't add a leading \"/\".\n            if (\n                normalisedURLPath.length === 0 &&\n                pathWithQueryParamsAndHash.length > 0 &&\n                !pathWithQueryParamsAndHash.startsWith(\"/\")\n            ) {\n                return \"/\" + pathWithQueryParamsAndHash;\n            }\n            return pathWithQueryParamsAndHash;\n        } catch (_a) {\n            return undefined;\n        }\n    }\n}\nfunction getTenantIdFromQueryParams() {\n    var _a;\n    return (_a = getQueryParams(TENANT_ID_QUERY_PARAM)) !== null && _a !== void 0 ? _a : undefined;\n}\nfunction getDefaultRedirectionURLForPath(config, defaultPath, context, extraQueryParams) {\n    var redirectPath = config.appInfo.websiteBasePath\n        .appendPath(new NormalisedURLPath__default.default(defaultPath))\n        .getAsStringDangerous();\n    var queryParams = new URLSearchParams();\n    if (context.tenantIdFromQueryParams !== undefined) {\n        queryParams.set(TENANT_ID_QUERY_PARAM, context.tenantIdFromQueryParams);\n    }\n    if (extraQueryParams !== undefined) {\n        Object.entries(extraQueryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            if (value !== undefined) {\n                queryParams.set(key, value);\n            }\n        });\n    }\n    if (queryParams.toString() !== \"\") {\n        return \"\".concat(redirectPath, \"?\").concat(queryParams.toString());\n    }\n    return redirectPath;\n}\n/*\n * isTest\n */\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\" || process.env.REACT_APP_TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.websiteDomain === undefined) {\n        throw new Error(\"Please provide your websiteDomain inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new NormalisedURLPath__default.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new NormalisedURLPath__default.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new NormalisedURLDomain__default.default(appInfo.apiDomain),\n        websiteDomain: new NormalisedURLDomain__default.default(appInfo.websiteDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n        websiteBasePath: getNormalisedURLPathOrDefault(DEFAULT_WEBSITE_BASE_PATH, appInfo.websiteBasePath),\n    };\n}\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new NormalisedURLPath__default.default(path);\n    } else {\n        return new NormalisedURLPath__default.default(defaultPath);\n    }\n}\n/*\n * validateForm\n */\n// We check that the number of fields in input and config form field is the same.\n// We check that each item in the config form field is also present in the input form field\nfunction validateForm(inputs, configFormFields) {\n    return __awaiter(this, void 0, void 0, function () {\n        var validationErrors, _loop_1, i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    validationErrors = [];\n                    if (configFormFields.length !== inputs.length) {\n                        throw Error(\"Are you sending too many / too few formFields?\");\n                    }\n                    _loop_1 = function (i) {\n                        var field, input, value, error;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    field = configFormFields[i];\n                                    input = inputs.find(function (i) {\n                                        return i.id === field.id;\n                                    });\n                                    value = input.value;\n                                    if (input.id === \"email\") {\n                                        value = value.trim();\n                                    }\n                                    return [4 /*yield*/, field.validate(value)];\n                                case 1:\n                                    error = _b.sent();\n                                    // If error, add it.\n                                    if (error !== undefined) {\n                                        validationErrors.push({\n                                            error: error,\n                                            id: field.id,\n                                        });\n                                    }\n                                    return [2 /*return*/];\n                            }\n                        });\n                    };\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < configFormFields.length)) return [3 /*break*/, 4];\n                    return [5 /*yield**/, _loop_1(i)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    return [2 /*return*/, validationErrors];\n            }\n        });\n    });\n}\n/*\n * getCurrentNormalisedUrlPath\n */\nfunction getCurrentNormalisedUrlPath() {\n    return new NormalisedURLPath__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getPathName()\n    );\n}\nfunction getCurrentNormalisedUrlPathWithQueryParamsAndFragments() {\n    var normalisedUrlPath = getCurrentNormalisedUrlPath().getAsStringDangerous();\n    return (\n        normalisedUrlPath +\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch() +\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash()\n    );\n}\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http://localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search).concat(url_2.hash);\n    }\n}\nfunction appendTrailingSlashToURL(stringUrl) {\n    return stringUrl.endsWith(\"/\") ? stringUrl : stringUrl + \"/\";\n}\n/*\n * Default method for matching recipe route based on query params.\n */\nfunction matchRecipeIdUsingQueryParams(recipeId) {\n    return function () {\n        var recipeIdFromSearch = getRecipeIdFromSearch(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n        );\n        return recipeIdFromSearch === recipeId;\n    };\n}\nfunction redirectWithFullPageReload(to) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.setHref(to);\n}\nfunction redirectWithNavigate(to, navigate) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    if (\"push\" in navigate) {\n        // we are using react-router-dom that is before v6\n        navigate.push(to);\n    } else {\n        // in react-router-dom v6, it is just navigate(to)\n        navigate(to);\n    }\n}\nfunction getOriginOfPage() {\n    return new NormalisedURLDomain__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getOrigin()\n    );\n}\nfunction getLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res;\n        return __generator(this, function (_a) {\n            res = windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.getItem(key);\n            if (res === null || res === undefined) {\n                return [2 /*return*/, null];\n            }\n            return [2 /*return*/, res];\n        });\n    });\n}\nfunction setLocalStorage(key, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.setItem(\n                            key,\n                            value\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeFromLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.removeItem(\n                            key\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction mergeObjects(obj1, obj2) {\n    var res = exports.__assign({}, obj1);\n    for (var key in obj2) {\n        if (typeof res[key] === \"object\" && typeof obj2[key] === \"object\") {\n            res[key] = mergeObjects(res[key], obj2[key]);\n        } else {\n            res[key] = obj2[key];\n        }\n    }\n    return res;\n}\nfunction normaliseCookieScopeOrThrowError(cookieScope) {\n    function helper(cookieScope) {\n        cookieScope = cookieScope.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (cookieScope.startsWith(\".\")) {\n            cookieScope = cookieScope.substr(1);\n        }\n        if (!cookieScope.startsWith(\"http://\") && !cookieScope.startsWith(\"https://\")) {\n            cookieScope = \"http://\" + cookieScope;\n        }\n        try {\n            var urlObj = new URL(cookieScope);\n            cookieScope = urlObj.hostname;\n            // remove leading dot\n            if (cookieScope.startsWith(\".\")) {\n                cookieScope = cookieScope.substr(1);\n            }\n            return cookieScope;\n        } catch (err) {\n            throw new Error(\"Please provide a valid cookie scope\");\n        }\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    var noDotNormalised = helper(cookieScope);\n    if (noDotNormalised === \"localhost\" || isAnIpAddress(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (cookieScope.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nfunction getDefaultCookieScope() {\n    try {\n        return normaliseCookieScopeOrThrowError(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName()\n        );\n    } catch (_a) {\n        return undefined;\n    }\n}\nfunction getCookieValue(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _a, parts, last, temp;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = \"; \";\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.getCookie(),\n                    ];\n                case 1:\n                    value = _a + _b.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            temp = last.split(\";\").shift();\n                            if (temp === undefined) {\n                                return [2 /*return*/, null];\n                            }\n                            return [2 /*return*/, temp];\n                        }\n                    }\n                    return [2 /*return*/, null];\n            }\n        });\n    });\n}\n// undefined value will remove the cookie\nfunction setFrontendCookie(name, value, scope) {\n    return __awaiter(this, void 0, void 0, function () {\n        var expires, cookieVal;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    expires = \"Thu, 01 Jan 1970 00:00:01 GMT\";\n                    cookieVal = \"\";\n                    if (value !== undefined) {\n                        cookieVal = value;\n                        expires = undefined; // set cookie without expiry\n                    }\n                    if (\n                        !(\n                            scope === \"localhost\" ||\n                            scope ===\n                                windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName() ||\n                            scope === undefined\n                        )\n                    )\n                        return [3 /*break*/, 5];\n                    if (!(expires !== undefined)) return [3 /*break*/, 2];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\".concat(name, \"=\").concat(cookieVal, \";expires=\").concat(expires, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!(expires !== undefined)) return [3 /*break*/, 7];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=\")\n                                .concat(expires, \";domain=\")\n                                .concat(scope, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 9];\n                case 7:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";domain=\")\n                                .concat(scope, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\n/**\n * This function handles calling APIs that should only be called once during mount (mostly on mount of a route/feature component).\n * It's split into multiple callbacks (fetch + handleResponse/handleError) because we expect fetch to take longer and\n * and the component may be unmounted during the first fetch, in which case we want to avoid updating state/redirecting.\n * This is especially relevant for development in strict mode with React 18 (and in the future for concurrent rendering).\n *\n * @param fetch This is a callback that is only called once on mount. Mostly it's for consuming tokens/doing one time only API calls\n * @param handleResponse This is called with the result of the first (fetch) call if it succeeds.\n * @param handleError This is called with the error of the first (fetch) call if it rejects.\n * @param startLoading Will start the whole process if this is set to true (or omitted). Mostly used to wait for session loading.\n */\nvar useOnMountAPICall = function (fetch, handleResponse, handleError, startLoading) {\n    if (startLoading === void 0) {\n        startLoading = true;\n    }\n    var consumeReq = React.useRef();\n    var _a = React.useState(undefined),\n        error = _a[0],\n        setError = _a[1];\n    React.useEffect(\n        function () {\n            var effect = function (signal) {\n                return __awaiter(void 0, void 0, void 0, function () {\n                    var resp, err_1, err_2;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                _a.trys.push([0, 2, , 9]);\n                                if (consumeReq.current === undefined) {\n                                    consumeReq.current = fetch();\n                                }\n                                return [4 /*yield*/, consumeReq.current];\n                            case 1:\n                                resp = _a.sent();\n                                if (!signal.aborted) {\n                                    void handleResponse(resp);\n                                }\n                                return [3 /*break*/, 9];\n                            case 2:\n                                err_1 = _a.sent();\n                                if (!!signal.aborted) return [3 /*break*/, 8];\n                                if (!(handleError !== undefined)) return [3 /*break*/, 7];\n                                _a.label = 3;\n                            case 3:\n                                _a.trys.push([3, 5, , 6]);\n                                return [4 /*yield*/, handleError(err_1, resp)];\n                            case 4:\n                                _a.sent();\n                                return [3 /*break*/, 6];\n                            case 5:\n                                err_2 = _a.sent();\n                                setError(err_2);\n                                return [3 /*break*/, 6];\n                            case 6:\n                                return [3 /*break*/, 8];\n                            case 7:\n                                setError(err_1);\n                                _a.label = 8;\n                            case 8:\n                                return [3 /*break*/, 9];\n                            case 9:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            };\n            if (startLoading) {\n                var ctrl_1 = new AbortController();\n                void effect(ctrl_1.signal);\n                return function () {\n                    ctrl_1.abort();\n                };\n            }\n            return;\n        },\n        [setError, consumeReq, fetch, handleResponse, handleError, startLoading]\n    );\n    if (error) {\n        throw error;\n    }\n};\nfunction useRethrowInRender() {\n    var _a = React.useState(undefined),\n        error = _a[0],\n        setError = _a[1];\n    if (error) {\n        throw error;\n    }\n    return setError;\n}\nvar handleCallAPI = function (_a) {\n    var apiFields = _a.apiFields,\n        fieldUpdates = _a.fieldUpdates,\n        callAPI = _a.callAPI;\n    return __awaiter(void 0, void 0, void 0, function () {\n        var result, generalError, fetchError, e_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [\n                        4 /*yield*/,\n                        callAPI(apiFields || [], function (id, value) {\n                            return fieldUpdates.push({ id: id, value: value });\n                        }),\n                    ];\n                case 1:\n                    result = _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    e_1 = _b.sent();\n                    if (STGeneralError__default.default.isThisError(e_1)) {\n                        generalError = e_1;\n                    } else if (e_1 instanceof Response) {\n                        fetchError = e_1;\n                    } else {\n                        throw e_1;\n                    }\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [\n                        2 /*return*/,\n                        {\n                            result: result,\n                            generalError: generalError,\n                            fetchError: fetchError,\n                        },\n                    ];\n            }\n        });\n    });\n};\n\nvar BaseRecipeModule = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function BaseRecipeModule(config) {\n        this.config = config;\n    }\n    return BaseRecipeModule;\n})();\n\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    if (config === undefined) {\n        config = {};\n    }\n    var onHandleEvent = config.onHandleEvent,\n        getRedirectionURL = config.getRedirectionURL,\n        preAPIHook = config.preAPIHook,\n        postAPIHook = config.postAPIHook;\n    if (onHandleEvent === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n        onHandleEvent = function (_) {};\n    }\n    if (getRedirectionURL === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        getRedirectionURL = function (_) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, undefined];\n                });\n            });\n        };\n    }\n    if (preAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    if (postAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    var rootStyle = config.style === undefined ? \"\" : config.style;\n    return exports.__assign(exports.__assign({}, config), {\n        getRedirectionURL: getRedirectionURL,\n        onHandleEvent: onHandleEvent,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        recipeRootStyle: rootStyle,\n    });\n}\n\nfunction normaliseMultitenancyConfig(config) {\n    return exports.__assign(exports.__assign({}, normaliseRecipeModuleConfig(config)), {\n        override: exports.__assign(\n            {\n                functions: function (originalImplementation) {\n                    return originalImplementation;\n                },\n            },\n            config === null || config === void 0 ? void 0 : config.override\n        ),\n    });\n}\nfunction hasIntersectingRecipes(tenantMethods, recipeList) {\n    return tenantMethods.firstFactors.some(function (factorId) {\n        return recipeList.some(function (r) {\n            return r.firstFactorIds.includes(factorId);\n        });\n    });\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar Multitenancy = /** @class */ (function (_super) {\n    __extends(Multitenancy, _super);\n    function Multitenancy(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = MultitenancyWebJS__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = Multitenancy.RECIPE_ID;\n        _this.dynamicLoginMethodsCache = {};\n        return _this;\n    }\n    Multitenancy.prototype.getCurrentDynamicLoginMethods = function (input) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var userContext, tenantId, tenantMethods;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (SuperTokens.usesDynamicLoginMethods === false) {\n                            return [2 /*return*/, undefined];\n                        }\n                        userContext = utils.getNormalisedUserContext(input.userContext);\n                        return [4 /*yield*/, Multitenancy.getInstanceOrThrow().webJSRecipe.getTenantId()];\n                    case 1:\n                        tenantId = (_a = _b.sent()) !== null && _a !== void 0 ? _a : \"public\";\n                        if (this.dynamicLoginMethodsCache[tenantId] === undefined) {\n                            this.dynamicLoginMethodsCache[tenantId] = Multitenancy.getDynamicLoginMethods({\n                                tenantId: tenantId,\n                                userContext: userContext,\n                            });\n                        }\n                        return [4 /*yield*/, this.dynamicLoginMethodsCache[tenantId]];\n                    case 2:\n                        tenantMethods = _b.sent();\n                        if (\n                            !hasIntersectingRecipes(\n                                tenantMethods,\n                                SuperTokens.getInstanceOrThrow().recipeList.filter(function (recipe) {\n                                    return \"firstFactorIds\" in recipe;\n                                })\n                            )\n                        ) {\n                            throw new Error(\n                                \"Initialized recipes have no overlap with core recipes or could not load login methods\"\n                            );\n                        }\n                        return [2 /*return*/, tenantMethods];\n                }\n            });\n        });\n    };\n    Multitenancy.getDynamicLoginMethods = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, thirdParty, firstFactors;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        return [4 /*yield*/, MultitenancyWebJS__default.default.getLoginMethods(input)];\n                    case 1:\n                        (_a = _b.sent()), (thirdParty = _a.thirdParty), (firstFactors = _a.firstFactors);\n                        return [\n                            2 /*return*/,\n                            {\n                                thirdparty: thirdParty,\n                                firstFactors: firstFactors,\n                            },\n                        ];\n                }\n            });\n        });\n    };\n    Multitenancy.init = function (config) {\n        var normalisedConfig = normaliseMultitenancyConfig(config);\n        return {\n            recipeID: Multitenancy.RECIPE_ID,\n            authReact: function (appInfo) {\n                Multitenancy.instance = new Multitenancy(\n                    exports.__assign(exports.__assign({}, normalisedConfig), {\n                        appInfo: appInfo,\n                        recipeId: Multitenancy.RECIPE_ID,\n                    })\n                );\n                return Multitenancy.instance;\n            },\n            webJS: MultitenancyWebJS__default.default.init(exports.__assign({}, normalisedConfig)),\n        };\n    };\n    Multitenancy.getInstanceOrThrow = function () {\n        if (Multitenancy.instance === undefined) {\n            var error =\n                \"No instance of Multitenancy found. Make sure to call the Multitenancy.init method.\" +\n                \"See https://supertokens.io/docs/multitenancy/quick-setup/frontend\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + SSR_ERROR;\n            }\n            throw Error(error);\n        }\n        return Multitenancy.instance;\n    };\n    /*\n     * Tests methods.\n     */\n    Multitenancy.reset = function () {\n        if (!isTest()) {\n            return;\n        }\n        Multitenancy.instance = undefined;\n        return;\n    };\n    Multitenancy.RECIPE_ID = \"multitenancy\";\n    return Multitenancy;\n})(BaseRecipeModule);\n\nvar TranslationController = /** @class */ (function () {\n    function TranslationController() {\n        this.handlers = new Map();\n    }\n    TranslationController.prototype.emit = function (event, detail) {\n        var handlerList = this.handlers.get(event) || [];\n        for (var _i = 0, handlerList_1 = handlerList; _i < handlerList_1.length; _i++) {\n            var h = handlerList_1[_i];\n            h(event, detail);\n        }\n    };\n    TranslationController.prototype.on = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(event, handlerList.concat(handler));\n    };\n    TranslationController.prototype.off = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(\n            event,\n            handlerList.filter(function (h) {\n                return h !== handler;\n            })\n        );\n    };\n    return TranslationController;\n})();\nvar CURRENT_LANGUAGE_COOKIE_NAME = \"sCurrLanguage\";\nfunction saveCurrentLanguage(language, cookieDomain) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, setFrontendCookie(CURRENT_LANGUAGE_COOKIE_NAME, language, cookieDomain)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getCurrentLanguageFromCookie() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, getCookieValue(CURRENT_LANGUAGE_COOKIE_NAME)];\n                case 1:\n                    return [2 /*return*/, _b.sent()];\n                case 2:\n                    _b.sent();\n                    // This can throw if we are not in a browser\n                    // Since this is just loading a preference we can safely ignore the exception\n                    return [2 /*return*/, null];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar SuperTokens = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function SuperTokens(config) {\n        var _this = this;\n        var _a, _b, _c, _d;\n        this.recipeList = [];\n        this.changeLanguage = function (lang) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                saveCurrentLanguage(lang, this.languageTranslations.currentLanguageCookieScope),\n                            ];\n                        case 1:\n                            _a.sent();\n                            this.languageTranslations.translationEventSource.emit(\"LanguageChange\", lang);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.redirectToAuth = function (options) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var queryParams, redirectUrl;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            queryParams = options.queryParams === undefined ? {} : options.queryParams;\n                            if (options.show !== undefined) {\n                                queryParams.show = options.show;\n                            }\n                            if (options.redirectBack === true) {\n                                queryParams.redirectToPath = getCurrentNormalisedUrlPathWithQueryParamsAndFragments();\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.getRedirectUrl(\n                                    {\n                                        action: \"TO_AUTH\",\n                                        showSignIn: options.show === \"signin\",\n                                        tenantIdFromQueryParams: getTenantIdFromQueryParams(),\n                                    },\n                                    options.userContext\n                                ),\n                            ];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl === null) {\n                                logDebugMessage(\"Skipping redirection because the user override returned null\");\n                                return [2 /*return*/];\n                            }\n                            redirectUrl = appendQueryParamsToURL(redirectUrl, queryParams);\n                            return [2 /*return*/, this.redirectToUrl(redirectUrl, options.navigate)];\n                    }\n                });\n            });\n        };\n        this.redirectToUrl = function (redirectUrl, navigate) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    doRedirection(this.appInfo, redirectUrl, navigate);\n                    return [2 /*return*/];\n                });\n            });\n        };\n        this.redirect = function (context, navigate, queryParams, userContext) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getRedirectUrl(context, getNormalisedUserContext(userContext))];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl === null) {\n                                logDebugMessage(\n                                    \"Skipping redirection because the user override returned null for context \".concat(\n                                        JSON.stringify(context, null, 2)\n                                    )\n                                );\n                                return [2 /*return*/];\n                            }\n                            redirectUrl = appendQueryParamsToURL(redirectUrl, queryParams);\n                            return [\n                                2 /*return*/,\n                                SuperTokens.getInstanceOrThrow().redirectToUrl(redirectUrl, navigate),\n                            ];\n                    }\n                });\n            });\n        };\n        this.appInfo = normaliseInputAppInfoOrThrowError(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var translationConfig = config.languageTranslations === undefined ? {} : config.languageTranslations;\n        this.languageTranslations = {\n            defaultLanguage: translationConfig.defaultLanguage === undefined ? \"en\" : translationConfig.defaultLanguage,\n            currentLanguageCookieScope:\n                translationConfig.currentLanguageCookieScope !== undefined\n                    ? normaliseCookieScopeOrThrowError(translationConfig.currentLanguageCookieScope)\n                    : getDefaultCookieScope(),\n            userTranslationStore: translationConfig.translations !== undefined ? translationConfig.translations : {},\n            translationEventSource: new TranslationController(),\n            userTranslationFunc: translationConfig.translationFunc,\n        };\n        var enableDebugLogs = Boolean(config === null || config === void 0 ? void 0 : config.enableDebugLogs);\n        if (enableDebugLogs) {\n            enableLogging();\n        }\n        this.userGetRedirectionURL = config.getRedirectionURL;\n        this.recipeList = config.recipeList.map(function (_a) {\n            var authReact = _a.authReact;\n            return authReact(_this.appInfo, enableDebugLogs);\n        });\n        this.rootStyle = (_a = config.style) !== null && _a !== void 0 ? _a : \"\";\n        this.privacyPolicyLink = config.privacyPolicyLink;\n        this.termsOfServiceLink = config.termsOfServiceLink;\n        this.useShadowDom = (_b = config.useShadowDom) !== null && _b !== void 0 ? _b : true;\n        this.defaultToSignUp = (_c = config.defaultToSignUp) !== null && _c !== void 0 ? _c : false;\n        this.disableAuthRoute = (_d = config.disableAuthRoute) !== null && _d !== void 0 ? _d : false;\n    }\n    /*\n     * Static Methods.\n     */\n    SuperTokens.init = function (config) {\n        var _a;\n        cookieHandler.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler.WindowHandlerReference.init(config.windowHandler);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokens.usesDynamicLoginMethods =\n            (_a = config.usesDynamicLoginMethods) !== null && _a !== void 0 ? _a : false;\n        var recipes =\n            config.recipeList.find(function (recipe) {\n                return recipe.recipeID === Multitenancy.RECIPE_ID;\n            }) !== undefined\n                ? config.recipeList\n                : config.recipeList.concat(Multitenancy.init({}));\n        SuperTokensWebJS__default.default.init(\n            exports.__assign(exports.__assign({}, config), {\n                recipeList: recipes.map(function (_a) {\n                    var webJS = _a.webJS;\n                    return webJS;\n                }),\n            })\n        );\n        SuperTokens.instance = new SuperTokens(exports.__assign(exports.__assign({}, config), { recipeList: recipes }));\n        postSuperTokensInitCallbacks.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + SSR_ERROR;\n            }\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.prototype.getRecipeOrThrow = function (recipeId) {\n        var recipe = this.recipeList.find(function (recipe) {\n            return recipe.config.recipeId === recipeId;\n        });\n        if (recipe === undefined) {\n            throw new Error(\"Missing recipe: \".concat(recipeId));\n        }\n        return recipe;\n    };\n    SuperTokens.prototype.loadTranslation = function (store) {\n        this.languageTranslations.translationEventSource.emit(\"TranslationLoaded\", store);\n    };\n    SuperTokens.prototype.getRedirectUrl = function (context, userContext) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var userRes, redirectUrl, basePath;\n            var _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!this.userGetRedirectionURL) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.userGetRedirectionURL(context, userContext)];\n                    case 1:\n                        userRes = _c.sent();\n                        if (userRes !== undefined) {\n                            return [2 /*return*/, userRes];\n                        }\n                        _c.label = 2;\n                    case 2:\n                        if (context.action === \"TO_AUTH\") {\n                            redirectUrl = this.appInfo.websiteBasePath.getAsStringDangerous();\n                            basePath = appendTrailingSlashToURL(redirectUrl);\n                            if (context.tenantIdFromQueryParams) {\n                                return [\n                                    2 /*return*/,\n                                    appendQueryParamsToURL(\n                                        basePath,\n                                        ((_b = {}), (_b[TENANT_ID_QUERY_PARAM] = context.tenantIdFromQueryParams), _b)\n                                    ),\n                                ];\n                            }\n                            return [2 /*return*/, basePath];\n                        } else if (context.action === \"SUCCESS\") {\n                            return [2 /*return*/, (_a = context.redirectToPath) !== null && _a !== void 0 ? _a : \"/\"];\n                        }\n                        throw new Error(\"Should never come here: unexpected redirection context\");\n                }\n            });\n        });\n    };\n    /*\n     * Tests methods.\n     */\n    SuperTokens.reset = function () {\n        if (!isTest()) {\n            return;\n        }\n        SuperTokens.instance = undefined;\n        return;\n    };\n    SuperTokens.usesDynamicLoginMethods = false;\n    return SuperTokens;\n})();\nfunction doRedirection(appInfo, redirectUrl, navigate) {\n    try {\n        new URL(redirectUrl); // If full URL, no error thrown, skip in app redirection.\n    } catch (e) {\n        // For multi tenancy, If mismatch between websiteDomain and current location, prepend URL relative path with websiteDomain.\n        var origin_1 = getOriginOfPage().getAsStringDangerous();\n        if (origin_1 !== appInfo.websiteDomain.getAsStringDangerous()) {\n            redirectUrl = \"\".concat(appInfo.websiteDomain.getAsStringDangerous()).concat(redirectUrl);\n            redirectWithFullPageReload(redirectUrl);\n            return;\n        }\n        // If navigate was provided, use to redirect without reloading.\n        if (navigate !== undefined) {\n            redirectWithNavigate(redirectUrl, navigate);\n            return;\n        }\n    }\n    // Otherwise, redirect in app.\n    redirectWithFullPageReload(redirectUrl);\n}\n\nvar createGenericComponentsOverrideContext = function (v) {\n    if (v === void 0) {\n        v = {};\n    }\n    var genericContext = React__default.default.createContext(v);\n    var useComponentsOverrideContext = function () {\n        return React__default.default.useContext(genericContext);\n    };\n    var Provider = function (_a) {\n        var children = _a.children,\n            components = _a.components;\n        return jsxRuntime.jsx(genericContext.Provider, exports.__assign({ value: components }, { children: children }));\n    };\n    return [useComponentsOverrideContext, Provider, genericContext.Consumer];\n};\n\nexports.BaseRecipeModule = BaseRecipeModule;\nexports.Multitenancy = Multitenancy;\nexports.SSR_ERROR = SSR_ERROR;\nexports.ST_ROOT_ID = ST_ROOT_ID;\nexports.SuperTokens = SuperTokens;\nexports.__awaiter = __awaiter;\nexports.__extends = __extends;\nexports.__generator = __generator;\nexports.__rest = __rest;\nexports.__spreadArray = __spreadArray;\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nexports.clearErrorQueryParam = clearErrorQueryParam;\nexports.clearQueryParams = clearQueryParams;\nexports.createGenericComponentsOverrideContext = createGenericComponentsOverrideContext;\nexports.getCurrentLanguageFromCookie = getCurrentLanguageFromCookie;\nexports.getCurrentNormalisedUrlPath = getCurrentNormalisedUrlPath;\nexports.getCurrentNormalisedUrlPathWithQueryParamsAndFragments = getCurrentNormalisedUrlPathWithQueryParamsAndFragments;\nexports.getDefaultRedirectionURLForPath = getDefaultRedirectionURLForPath;\nexports.getLocalStorage = getLocalStorage;\nexports.getNormalisedUserContext = getNormalisedUserContext;\nexports.getQueryParams = getQueryParams;\nexports.getRedirectToPathFromURL = getRedirectToPathFromURL;\nexports.getTenantIdFromQueryParams = getTenantIdFromQueryParams;\nexports.getURLHash = getURLHash;\nexports.handleCallAPI = handleCallAPI;\nexports.isTest = isTest;\nexports.logDebugMessage = logDebugMessage;\nexports.matchRecipeIdUsingQueryParams = matchRecipeIdUsingQueryParams;\nexports.mergeObjects = mergeObjects;\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\nexports.redirectWithFullPageReload = redirectWithFullPageReload;\nexports.removeFromLocalStorage = removeFromLocalStorage;\nexports.setLocalStorage = setLocalStorage;\nexports.updateQueryParam = updateQueryParam;\nexports.useOnMountAPICall = useOnMountAPICall;\nexports.useRethrowInRender = useRethrowInRender;\nexports.validateForm = validateForm;\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar RecipeModule = /** @class */ (function (_super) {\n    genericComponentOverrideContext.__extends(RecipeModule, _super);\n    function RecipeModule() {\n        var _this = (_super !== null && _super.apply(this, arguments)) || this;\n        _this.redirect = function (context, navigate, queryParams, userContext) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.getRedirectUrl(\n                                    context,\n                                    genericComponentOverrideContext.getNormalisedUserContext(userContext)\n                                ),\n                            ];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl === null) {\n                                genericComponentOverrideContext.logDebugMessage(\n                                    \"Skipping redirection because the user override returned null for context \".concat(\n                                        JSON.stringify(context, null, 2)\n                                    )\n                                );\n                                return [2 /*return*/];\n                            }\n                            redirectUrl = genericComponentOverrideContext.appendQueryParamsToURL(\n                                redirectUrl,\n                                queryParams\n                            );\n                            return [\n                                2 /*return*/,\n                                genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                    redirectUrl,\n                                    navigate\n                                ),\n                            ];\n                    }\n                });\n            });\n        };\n        // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n        _this.getRedirectUrl = function (context, userContext) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.config.getRedirectionURL(context, userContext)];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl !== undefined) {\n                                return [2 /*return*/, redirectUrl];\n                            }\n                            return [4 /*yield*/, this.getDefaultRedirectionURL(context, userContext)];\n                        case 2:\n                            // Otherwise, use default.\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RecipeModule.prototype.getDefaultRedirectionURL = function (_, _userContext) {\n        return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n            return genericComponentOverrideContext.__generator(this, function (_a) {\n                throw new Error(\"getDefaultRedirectionURL is not implemented.\");\n            });\n        });\n    };\n    return RecipeModule;\n})(genericComponentOverrideContext.BaseRecipeModule);\n\nexports.RecipeModule = RecipeModule;\n", "\"use strict\";\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normaliseUserInput = void 0;\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = require(\"../authRecipe/utils\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\n", "\"use strict\";\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getRecipeImplementation = void 0;\nvar querier_1 = require(\"../../querier\");\nvar recipe_1 = require(\"../multitenancy/recipe\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        getLoginChallengeInfo: function (_a) {\n            var loginChallenge = _a.loginChallenge,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var queryParams, _b, jsonBody, fetchResponse, _c, _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            queryParams = {\n                                loginChallenge: loginChallenge,\n                            };\n                            _d = (_c = querier).get;\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default\n                                    .getInstanceOrThrow()\n                                    .recipeImplementation.getTenantId({ userContext: userContext }),\n                            ];\n                        case 1:\n                            return [\n                                4 /*yield*/,\n                                _d.apply(_c, [\n                                    _e.sent(),\n                                    \"/oauth/login/info\",\n                                    {},\n                                    queryParams,\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_LOGIN_CHALLENGE_INFO\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_LOGIN_CHALLENGE_INFO\",\n                                        userContext: userContext,\n                                    }),\n                                ]),\n                            ];\n                        case 2:\n                            (_b = _e.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: \"OK\",\n                                    info: jsonBody.info,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        getRedirectURLToContinueOAuthFlow: function (_a) {\n            var loginChallenge = _a.loginChallenge,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse, _c, _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            _d = (_c = querier).get;\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default\n                                    .getInstanceOrThrow()\n                                    .recipeImplementation.getTenantId({ userContext: userContext }),\n                            ];\n                        case 1:\n                            return [\n                                4 /*yield*/,\n                                _d.apply(_c, [\n                                    _e.sent(),\n                                    \"/oauth/login\",\n                                    {},\n                                    {\n                                        loginChallenge: loginChallenge,\n                                    },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"GET_REDIRECT_URL_TO_CONTINUE_OAUTH_FLOW\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"GET_REDIRECT_URL_TO_CONTINUE_OAUTH_FLOW\",\n                                        userContext: userContext,\n                                    }),\n                                ]),\n                            ];\n                        case 2:\n                            (_b = _e.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: \"OK\",\n                                    frontendRedirectTo: jsonBody.frontendRedirectTo,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        logOut: function (_a) {\n            var logoutChallenge = _a.logoutChallenge,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse, _c, _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            _d = (_c = querier).post;\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default\n                                    .getInstanceOrThrow()\n                                    .recipeImplementation.getTenantId({ userContext: userContext }),\n                            ];\n                        case 1:\n                            return [\n                                4 /*yield*/,\n                                _d.apply(_c, [\n                                    _e.sent(),\n                                    \"/oauth/logout\",\n                                    {\n                                        body: JSON.stringify({ logoutChallenge: logoutChallenge }),\n                                    },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"LOG_OUT\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"LOG_OUT\",\n                                        userContext: userContext,\n                                    }),\n                                ]),\n                            ];\n                        case 2:\n                            (_b = _e.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: \"OK\",\n                                    frontendRedirectTo: jsonBody.frontendRedirectTo,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n    };\n}\nexports.default = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n", "\"use strict\";\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Recipe = void 0;\nvar utils_1 = require(\"./utils\");\nvar supertokens_js_override_1 = require(\"supertokens-js-override\");\nvar recipeImplementation_1 = require(\"./recipeImplementation\");\nvar utils_2 = require(\"../../utils\");\nvar authRecipe_1 = require(\"../authRecipe\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                clientType: _this.config.clientType,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, clientType) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), { recipeId: Recipe.RECIPE_ID, appInfo: appInfo, clientType: clientType })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error =\n                \"No instance of OAuth2Provider found. Ensure that the 'OAuth2Provider.init' method is called within the 'SuperTokens.init' recipeList.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"oauth2provider\";\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports.default = Recipe;\n", "\"use strict\";\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.logOut = exports.getRedirectURLToContinueOAuthFlow = exports.getLoginChallengeInfo = exports.init = void 0;\nvar utils_1 = require(\"../../utils\");\nvar recipe_1 = require(\"./recipe\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    /**\n     * Returns information about an OAuth login in progress\n     *\n     * @param loginChallenge The login challenge from the url\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\", info: LoginInfo}`\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.getLoginChallengeInfo = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.getLoginChallengeInfo(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Accepts the OAuth2 Login request and returns the redirect URL to continue the OAuth flow.\n     *\n     * @param loginChallenge The login challenge from the url\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\", frontendRedirectTo: string}`\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.getRedirectURLToContinueOAuthFlow = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.getRedirectURLToContinueOAuthFlow(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Accepts the OAuth2 Logout request, clears the SuperTokens session and returns post logout redirect URL.\n     *\n     * @param logoutChallenge The logout challenge from the url\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\", frontendRedirectTo: string}`\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.logOut = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.logOut(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    return RecipeWrapper;\n})();\nexports.default = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar getLoginChallengeInfo = RecipeWrapper.getLoginChallengeInfo;\nexports.getLoginChallengeInfo = getLoginChallengeInfo;\nvar getRedirectURLToContinueOAuthFlow = RecipeWrapper.getRedirectURLToContinueOAuthFlow;\nexports.getRedirectURLToContinueOAuthFlow = getRedirectURLToContinueOAuthFlow;\nvar logOut = RecipeWrapper.logOut;\nexports.logOut = logOut;\n", "/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(require(\"../../lib/build/recipe/oauth2provider\"));\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar OAuth2WebJS = require(\"supertokens-web-js/recipe/oauth2provider\");\nvar index = require(\"./recipeModule-shared.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar OAuth2WebJS__default = /*#__PURE__*/ _interopDefault(OAuth2WebJS);\n\nvar getFunctionOverrides = function (onHandleEvent) {\n    return function (originalImp) {\n        return genericComponentOverrideContext.__assign(genericComponentOverrideContext.__assign({}, originalImp), {\n            getLoginChallengeInfo: function (input) {\n                return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return genericComponentOverrideContext.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, originalImp.getLoginChallengeInfo(input)];\n                            case 1:\n                                response = _a.sent();\n                                onHandleEvent({\n                                    action: \"LOADED_LOGIN_CHALLENGE\",\n                                    loginChallenge: input.loginChallenge,\n                                    loginInfo: response.info,\n                                    userContext: input.userContext,\n                                });\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n            logOut: function (input) {\n                return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return genericComponentOverrideContext.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, originalImp.logOut(input)];\n                            case 1:\n                                response = _a.sent();\n                                onHandleEvent({\n                                    action: \"OAUTH2_LOGOUT_SUCCESS\",\n                                    frontendRedirectTo: response.frontendRedirectTo,\n                                    userContext: input.userContext,\n                                });\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n        });\n    };\n};\n\nfunction normaliseOAuth2Config(config) {\n    var _a;\n    return genericComponentOverrideContext.__assign(\n        genericComponentOverrideContext.__assign(\n            {},\n            genericComponentOverrideContext.normaliseRecipeModuleConfig(config)\n        ),\n        {\n            disableDefaultUI:\n                (_a = config === null || config === void 0 ? void 0 : config.disableDefaultUI) !== null && _a !== void 0\n                    ? _a\n                    : false,\n            tryRefreshPage: genericComponentOverrideContext.__assign(\n                { disableDefaultUI: false },\n                config === null || config === void 0 ? void 0 : config.tryRefreshPage\n            ),\n            oauth2LogoutScreen: genericComponentOverrideContext.__assign(\n                { disableDefaultUI: false, style: \"\" },\n                config === null || config === void 0 ? void 0 : config.oauth2LogoutScreen\n            ),\n            override: genericComponentOverrideContext.__assign(\n                {\n                    functions: function (originalImplementation) {\n                        return originalImplementation;\n                    },\n                },\n                config === null || config === void 0 ? void 0 : config.override\n            ),\n        }\n    );\n}\n\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar OAuth2Provider = /** @class */ (function (_super) {\n    genericComponentOverrideContext.__extends(OAuth2Provider, _super);\n    function OAuth2Provider(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = OAuth2WebJS__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = OAuth2Provider.RECIPE_ID;\n        return _this;\n    }\n    OAuth2Provider.init = function (config) {\n        var normalisedConfig = normaliseOAuth2Config(config);\n        return {\n            recipeID: OAuth2Provider.RECIPE_ID,\n            authReact: function (appInfo) {\n                OAuth2Provider.instance = new OAuth2Provider(\n                    genericComponentOverrideContext.__assign(\n                        genericComponentOverrideContext.__assign({}, normalisedConfig),\n                        { appInfo: appInfo, recipeId: OAuth2Provider.RECIPE_ID }\n                    )\n                );\n                return OAuth2Provider.instance;\n            },\n            webJS: OAuth2WebJS__default.default.init(\n                genericComponentOverrideContext.__assign(\n                    genericComponentOverrideContext.__assign({}, normalisedConfig),\n                    {\n                        override: {\n                            functions: function (originalImpl, builder) {\n                                var functions = getFunctionOverrides(normalisedConfig.onHandleEvent);\n                                builder.override(functions);\n                                builder.override(normalisedConfig.override.functions);\n                                return originalImpl;\n                            },\n                        },\n                    }\n                )\n            ),\n        };\n    };\n    OAuth2Provider.getInstanceOrThrow = function () {\n        if (OAuth2Provider.instance === undefined) {\n            var error =\n                \"No instance of OAuth2Provider found. Make sure to call the OAuth2Provider.init method.\" +\n                \"See https://supertokens.io/docs/oauth2/quick-setup/frontend\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + genericComponentOverrideContext.SSR_ERROR;\n            }\n            throw Error(error);\n        }\n        return OAuth2Provider.instance;\n    };\n    OAuth2Provider.getInstance = function () {\n        return OAuth2Provider.instance;\n    };\n    OAuth2Provider.prototype.getDefaultRedirectionURL = function (ctx) {\n        return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n            return genericComponentOverrideContext.__generator(this, function (_a) {\n                // We do not use the util here, because we are likely redirecting across domains here.\n                if (\n                    ctx.action === \"SUCCESS_OAUTH2\" ||\n                    ctx.action === \"CONTINUE_OAUTH2_AFTER_REFRESH\" ||\n                    ctx.action === \"POST_OAUTH2_LOGOUT_REDIRECT\"\n                ) {\n                    return [2 /*return*/, ctx.frontendRedirectTo];\n                } else {\n                    throw new Error(\n                        \"Should never come here: unknown action in OAuth2Provider.getDefaultRedirectionURL\"\n                    );\n                }\n            });\n        });\n    };\n    /*\n     * Tests methods.\n     */\n    OAuth2Provider.reset = function () {\n        if (!genericComponentOverrideContext.isTest()) {\n            return;\n        }\n        OAuth2Provider.instance = undefined;\n        return;\n    };\n    OAuth2Provider.RECIPE_ID = \"oauth2provider\";\n    return OAuth2Provider;\n})(index.RecipeModule);\n\nexports.OAuth2Provider = OAuth2Provider;\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\nvar WebJSSessionRecipe = require(\"supertokens-web-js/recipe/session\");\nvar recipe = require(\"./oauth2provider-shared.js\");\nvar index = require(\"./recipeModule-shared.js\");\nvar utils = require(\"supertokens-web-js/utils\");\nvar windowHandler = require(\"supertokens-web-js/utils/windowHandler\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar WebJSSessionRecipe__default = /*#__PURE__*/ _interopDefault(WebJSSessionRecipe);\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseSessionConfig(config) {\n    var _a, _b, _c;\n    if (config === undefined) {\n        config = {};\n    }\n    var accessDeniedScreenStyle =\n        (_b = (_a = config.accessDeniedScreen) === null || _a === void 0 ? void 0 : _a.style) !== null && _b !== void 0\n            ? _b\n            : \"\";\n    var accessDeniedScreen = {\n        style: accessDeniedScreenStyle,\n    };\n    var override = genericComponentOverrideContext.__assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return genericComponentOverrideContext.__assign(\n        genericComponentOverrideContext.__assign(\n            {},\n            genericComponentOverrideContext.normaliseRecipeModuleConfig(config)\n        ),\n        {\n            // TODO: ideally we'd get the default (or normalized) value from supertokens-website\n            invalidClaimStatusCode: (_c = config.invalidClaimStatusCode) !== null && _c !== void 0 ? _c : 403,\n            accessDeniedScreen: accessDeniedScreen,\n            override: override,\n        }\n    );\n}\nvar getFailureRedirectionInfo = function (_a) {\n    var invalidClaims = _a.invalidClaims,\n        overrideGlobalClaimValidators = _a.overrideGlobalClaimValidators,\n        userContext = _a.userContext;\n    return genericComponentOverrideContext.__awaiter(void 0, void 0, void 0, function () {\n        var globalValidators, failedClaim, _loop_1, _i, globalValidators_1, validator, state_1;\n        return genericComponentOverrideContext.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    globalValidators = utils.getGlobalClaimValidators({\n                        overrideGlobalClaimValidators: overrideGlobalClaimValidators,\n                        userContext: userContext,\n                    });\n                    failedClaim = undefined;\n                    _loop_1 = function (validator) {\n                        var claim, failureCallback, redirectPath;\n                        return genericComponentOverrideContext.__generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    claim = invalidClaims.find(function (c) {\n                                        return c.id === validator.id;\n                                    });\n                                    if (!(claim !== undefined)) return [3 /*break*/, 2];\n                                    failureCallback = validator.onFailureRedirection;\n                                    if (!failureCallback) return [3 /*break*/, 2];\n                                    return [\n                                        4 /*yield*/,\n                                        failureCallback({ reason: claim.reason, userContext: userContext }),\n                                    ];\n                                case 1:\n                                    redirectPath = _c.sent();\n                                    if (redirectPath !== undefined) {\n                                        return [\n                                            2 /*return*/,\n                                            {\n                                                value: {\n                                                    redirectPath: redirectPath,\n                                                    failedClaim: claim,\n                                                },\n                                            },\n                                        ];\n                                    }\n                                    _c.label = 2;\n                                case 2:\n                                    if (validator.showAccessDeniedOnFailure !== false && failedClaim === undefined) {\n                                        failedClaim = claim;\n                                    }\n                                    return [2 /*return*/];\n                            }\n                        });\n                    };\n                    (_i = 0), (globalValidators_1 = globalValidators);\n                    _b.label = 1;\n                case 1:\n                    if (!(_i < globalValidators_1.length)) return [3 /*break*/, 4];\n                    validator = globalValidators_1[_i];\n                    return [5 /*yield**/, _loop_1(validator)];\n                case 2:\n                    state_1 = _b.sent();\n                    if (typeof state_1 === \"object\") return [2 /*return*/, state_1.value];\n                    _b.label = 3;\n                case 3:\n                    _i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    return [\n                        2 /*return*/,\n                        {\n                            redirectPath: undefined,\n                            failedClaim: failedClaim,\n                        },\n                    ];\n            }\n        });\n    });\n};\nfunction validateAndCompareOnFailureRedirectionURLToCurrent(redirectURL) {\n    var currentUrl = windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref();\n    var fullRedirectURL;\n    try {\n        new URL(redirectURL);\n        // if the url is a full, valid url, we can use that\n        fullRedirectURL = redirectURL;\n    } catch (_a) {\n        // If we get here, we know it's not full url\n        // We check if it's an absolute path\n        if (!redirectURL.startsWith(\"/\")) {\n            throw new Error(\"onFailureRedirectionURL returned a relative url: \".concat(redirectURL));\n        }\n        var appInfo = genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().appInfo;\n        // otherwise we prepend the websiteDomain\n        fullRedirectURL = \"\".concat(appInfo.websiteDomain.getAsStringDangerous()).concat(redirectURL);\n    }\n    return currentUrl === fullRedirectURL;\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar Session = /** @class */ (function (_super) {\n    genericComponentOverrideContext.__extends(Session, _super);\n    function Session(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = WebJSSessionRecipe__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.recipeID = Session.RECIPE_ID;\n        _this.eventListeners = new Set();\n        _this.getUserId = function (input) {\n            return _this.webJSRecipe.getUserId(input);\n        };\n        _this.getAccessToken = function (input) {\n            return _this.webJSRecipe.getAccessToken(input);\n        };\n        _this.getClaimValue = function (input) {\n            return _this.webJSRecipe.getClaimValue(input);\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.getAccessTokenPayloadSecurely(input)];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return _this.webJSRecipe.doesSessionExist(input);\n        };\n        _this.signOut = function (input) {\n            return _this.webJSRecipe.signOut(input);\n        };\n        _this.attemptRefreshingSession = function () {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return _this.webJSRecipe.validateClaims(input);\n        };\n        _this.getInvalidClaimsFromResponse = function (input) {\n            return _this.webJSRecipe.getInvalidClaimsFromResponse(input);\n        };\n        /**\n         * @returns Function to remove event listener\n         */\n        _this.addEventListener = function (listener) {\n            _this.eventListeners.add(listener);\n            return function () {\n                return _this.eventListeners.delete(listener);\n            };\n        };\n        _this.validateGlobalClaimsAndHandleSuccessRedirection = function (\n            // We redefine recipeId to be a string here, because everywhere in the SDK we treat\n            // it as a string (e.g.: when defining it in recipes), but we want to type it more\n            // strictly in the callbacks the app provides to help integrating our SDK.\n            // This is the \"meeting point\" between the two types, so we need to cast between them here.\n            successRedirectContext,\n            fallbackRecipeId,\n            redirectToPath,\n            userContext,\n            navigate\n        ) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var invalidClaims, jsonContext, failureRedirectInfo, successContextStr, storedContext;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            userContext = genericComponentOverrideContext.getNormalisedUserContext(userContext);\n                            return [4 /*yield*/, this.doesSessionExist({ userContext: userContext })];\n                        case 1:\n                            // First we check if there is an active session\n                            if (!_a.sent()) {\n                                // If there is none, we have no way of checking claims, so we redirect to the auth page\n                                // This can happen e.g.: if the user clicked on the email verification link in a browser without an active session\n                                return [\n                                    2 /*return*/,\n                                    genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToAuth({\n                                        navigate: navigate,\n                                        redirectBack: false,\n                                        userContext: userContext,\n                                    }),\n                                ];\n                            }\n                            return [4 /*yield*/, this.validateClaims({ userContext: userContext })];\n                        case 2:\n                            invalidClaims = _a.sent();\n                            if (!(invalidClaims.length > 0)) return [3 /*break*/, 6];\n                            if (!(successRedirectContext !== undefined)) return [3 /*break*/, 4];\n                            jsonContext = JSON.stringify({\n                                successRedirectContext: successRedirectContext,\n                                redirectToPath: redirectToPath,\n                            });\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.setLocalStorage(\n                                    \"supertokens-success-redirection-context\",\n                                    jsonContext\n                                ),\n                            ];\n                        case 3:\n                            _a.sent();\n                            _a.label = 4;\n                        case 4:\n                            return [\n                                4 /*yield*/,\n                                getFailureRedirectionInfo({\n                                    invalidClaims: invalidClaims,\n                                    userContext: userContext,\n                                }),\n                            ];\n                        case 5:\n                            failureRedirectInfo = _a.sent();\n                            // if redirectPath is string that means failed claim had callback that returns path, we redirect there otherwise continue\n                            if (failureRedirectInfo.redirectPath !== undefined) {\n                                // the validation part can throw, but this is handled in all places where this is called,\n                                // since getFailureRedirectionInfo can also throw\n                                if (\n                                    validateAndCompareOnFailureRedirectionURLToCurrent(failureRedirectInfo.redirectPath)\n                                ) {\n                                    throw new Error(\n                                        \"onFailureRedirectionURL returned the current URL (\".concat(\n                                            failureRedirectInfo.redirectPath,\n                                            \") during success redirection. This indicates that the user is in a stuck state.\"\n                                        )\n                                    );\n                                }\n                                return [\n                                    2 /*return*/,\n                                    genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                        failureRedirectInfo.redirectPath,\n                                        navigate\n                                    ),\n                                ];\n                            }\n                            _a.label = 6;\n                        case 6:\n                            if (!(successRedirectContext === undefined)) return [3 /*break*/, 13];\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.getLocalStorage(\n                                    \"supertokens-success-redirection-context\"\n                                ),\n                            ];\n                        case 7:\n                            successContextStr = _a.sent();\n                            if (!(successContextStr !== null)) return [3 /*break*/, 12];\n                            _a.label = 8;\n                        case 8:\n                            _a.trys.push([8, , 9, 11]);\n                            storedContext = JSON.parse(successContextStr);\n                            successRedirectContext = storedContext.successRedirectContext;\n                            // if we have a redirectToPath set in the queryparams that takes priority over the stored value\n                            if (redirectToPath === undefined) {\n                                redirectToPath = storedContext.redirectToPath;\n                            }\n                            return [3 /*break*/, 11];\n                        case 9:\n                            return [\n                                4 /*yield*/,\n                                genericComponentOverrideContext.removeFromLocalStorage(\n                                    \"supertokens-success-redirection-context\"\n                                ),\n                            ];\n                        case 10:\n                            _a.sent();\n                            return [7 /*endfinally*/];\n                        case 11:\n                            return [3 /*break*/, 13];\n                        case 12:\n                            // If there was nothing in localstorage we set a default\n                            // this can happen if the user visited email verification screen without an auth recipe redirecting them there\n                            // but already had the email verified and an active session\n                            successRedirectContext = {\n                                recipeId: fallbackRecipeId,\n                                action: \"SUCCESS\",\n                                createdNewUser: false,\n                                isNewRecipeUser: false,\n                                newSessionCreated: false,\n                                tenantIdFromQueryParams: genericComponentOverrideContext.getTenantIdFromQueryParams(),\n                            };\n                            _a.label = 13;\n                        case 13:\n                            if (successRedirectContext === undefined) {\n                                throw new Error(\"This should never happen: successRedirectContext undefined \");\n                            }\n                            if (successRedirectContext.action === \"SUCCESS_OAUTH2\") {\n                                return [\n                                    2 /*return*/,\n                                    recipe.OAuth2Provider.getInstanceOrThrow().redirect(\n                                        successRedirectContext,\n                                        navigate,\n                                        {},\n                                        userContext\n                                    ),\n                                ];\n                            }\n                            if (successRedirectContext.action === \"SUCCESS\" && redirectToPath !== undefined) {\n                                successRedirectContext.redirectToPath = redirectToPath;\n                            }\n                            return [\n                                2 /*return*/,\n                                genericComponentOverrideContext.SuperTokens.getInstanceOrThrow().redirect(\n                                    successRedirectContext,\n                                    navigate,\n                                    {},\n                                    userContext\n                                ),\n                            ];\n                    }\n                });\n            });\n        };\n        /**\n         * This should only get called if validateGlobalClaimsAndHandleSuccessRedirection couldn't get a redirectInfo\n         * @returns \"/\"\n         */\n        _this.getDefaultRedirectionURL = function () {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    // We do not use the util here, since we are redirecting outside of the SDK routes\n                    return [2 /*return*/, \"/\"];\n                });\n            });\n        };\n        _this.notifyListeners = function (event) {\n            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                var sessionContext;\n                return genericComponentOverrideContext.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getSessionContext(event)];\n                        case 1:\n                            sessionContext = _a.sent();\n                            // We copy this.eventListeners into a new array to \"freeze\" it for the loop\n                            // We do this to avoid an infinite loop in case one of the listeners causes a new listener to be added (e.g.: through re-rendering)\n                            Array.from(this.eventListeners).forEach(function (listener) {\n                                return listener(\n                                    genericComponentOverrideContext.__assign({ sessionContext: sessionContext }, event)\n                                );\n                            });\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    Session.prototype.getSessionContext = function (_a) {\n        var action = _a.action,\n            userContext = _a.userContext;\n        return genericComponentOverrideContext.__awaiter(this, void 0, void 0, function () {\n            var _b, userId, accessTokenPayload;\n            return genericComponentOverrideContext.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (\n                            !(\n                                action === \"SESSION_CREATED\" ||\n                                action === \"REFRESH_SESSION\" ||\n                                action === \"API_INVALID_CLAIM\" ||\n                                action === \"ACCESS_TOKEN_PAYLOAD_UPDATED\"\n                            )\n                        )\n                            return [3 /*break*/, 2];\n                        return [\n                            4 /*yield*/,\n                            Promise.all([\n                                this.getUserId({\n                                    userContext: userContext,\n                                }),\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: userContext,\n                                }),\n                            ]),\n                        ];\n                    case 1:\n                        (_b = _c.sent()), (userId = _b[0]), (accessTokenPayload = _b[1]);\n                        return [\n                            2 /*return*/,\n                            {\n                                doesSessionExist: true,\n                                accessTokenPayload: accessTokenPayload,\n                                userId: userId,\n                            },\n                        ];\n                    case 2:\n                        if (action === \"SIGN_OUT\" || action === \"UNAUTHORISED\") {\n                            return [\n                                2 /*return*/,\n                                {\n                                    doesSessionExist: false,\n                                    accessTokenPayload: {},\n                                    userId: \"\",\n                                },\n                            ];\n                        }\n                        throw new Error(\"Unhandled recipe event: \".concat(action));\n                }\n            });\n        });\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    Session.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return WebJSSessionRecipe__default.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Session.init = function (config) {\n        var _this = this;\n        var normalisedConfig = normaliseSessionConfig(config);\n        return {\n            recipeID: Session.RECIPE_ID,\n            authReact: function (appInfo) {\n                Session.instance = new Session(\n                    genericComponentOverrideContext.__assign(\n                        genericComponentOverrideContext.__assign({}, normalisedConfig),\n                        { appInfo: appInfo, recipeId: Session.RECIPE_ID }\n                    )\n                );\n                return Session.instance;\n            },\n            webJS: WebJSSessionRecipe__default.default.init(\n                genericComponentOverrideContext.__assign(\n                    genericComponentOverrideContext.__assign({}, normalisedConfig),\n                    {\n                        onHandleEvent: function (event) {\n                            if (normalisedConfig.onHandleEvent !== undefined) {\n                                normalisedConfig.onHandleEvent(event);\n                            }\n                            void Session.getInstanceOrThrow().notifyListeners(event);\n                        },\n                        preAPIHook: function (context) {\n                            return genericComponentOverrideContext.__awaiter(_this, void 0, void 0, function () {\n                                var response;\n                                return genericComponentOverrideContext.__generator(this, function (_a) {\n                                    response = genericComponentOverrideContext.__assign(\n                                        genericComponentOverrideContext.__assign({}, context),\n                                        {\n                                            requestInit: genericComponentOverrideContext.__assign(\n                                                genericComponentOverrideContext.__assign({}, context.requestInit),\n                                                {\n                                                    headers: genericComponentOverrideContext.__assign(\n                                                        genericComponentOverrideContext.__assign(\n                                                            {},\n                                                            context.requestInit.headers\n                                                        ),\n                                                        { rid: Session.RECIPE_ID }\n                                                    ),\n                                                }\n                                            ),\n                                        }\n                                    );\n                                    if (normalisedConfig.preAPIHook === undefined) {\n                                        return [2 /*return*/, response];\n                                    } else {\n                                        return [2 /*return*/, normalisedConfig.preAPIHook(context)];\n                                    }\n                                });\n                            });\n                        },\n                    }\n                )\n            ),\n        };\n    };\n    Session.getInstanceOrThrow = function () {\n        if (Session.instance === undefined) {\n            throw Error(\n                \"No instance of Session found. Make sure to call the Session.init method. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        return Session.instance;\n    };\n    Session.getInstance = function () {\n        return Session.instance;\n    };\n    Session.reset = function () {\n        if (!genericComponentOverrideContext.isTest()) {\n            return;\n        }\n        Session.instance = undefined;\n        return;\n    };\n    Session.RECIPE_ID = \"session\";\n    return Session;\n})(index.RecipeModule);\n\n/* Copyright (c) 2024, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar FactorIds = {\n    EMAILPASSWORD: \"emailpassword\",\n    OTP_EMAIL: \"otp-email\",\n    OTP_PHONE: \"otp-phone\",\n    LINK_EMAIL: \"link-email\",\n    LINK_PHONE: \"link-phone\",\n    THIRDPARTY: \"thirdparty\",\n    TOTP: \"totp\",\n    WEBAUTHN: \"webauthn\",\n};\n\nexports.FactorIds = FactorIds;\nexports.Session = Session;\nexports.getFailureRedirectionInfo = getFailureRedirectionInfo;\nexports.validateAndCompareOnFailureRedirectionURLToCurrent = validateAndCompareOnFailureRedirectionURLToCurrent;\n", "\"use strict\";\n\nvar genericComponentOverrideContext = require(\"./genericComponentOverrideContext.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseAuthRecipe(config) {\n    return genericComponentOverrideContext.normaliseRecipeModuleConfig(config);\n}\nfunction selectComponentsToCoverAllFirstFactors(comps, firstFactorIds) {\n    if (firstFactorIds.length === 0) {\n        return undefined;\n    }\n    var _loop_1 = function (i) {\n        var c = comps[i];\n        // We check what factorIds are left if we select c\n        var factorIdsLeft = firstFactorIds.filter(function (id) {\n            return !c.factorIds.includes(id);\n        });\n        if (factorIdsLeft.length === 0) {\n            return { value: [c] };\n        }\n        // If there are other factors we need to cover, we filter down the component list to things that\n        // fit the remaining factor ids. This will remove overlapping components\n        // E.g.: if we just selected the emailpassword+pwless component, the emailpassword sign in/up components\n        // will be removed, since emailpassword is not in factorIdsLeft\n        var componentsLeft = comps.filter(function (c) {\n            return c.factorIds.every(function (id) {\n                return factorIdsLeft.includes(id);\n            });\n        });\n        // if we both have components and factors left after selecting c, we recurse\n        if (componentsLeft.length !== 0) {\n            var nextComps = selectComponentsToCoverAllFirstFactors(componentsLeft, factorIdsLeft);\n            if (nextComps !== undefined) {\n                return { value: genericComponentOverrideContext.__spreadArray([c], nextComps, true) };\n            }\n        }\n    };\n    for (var i = 0; i < comps.length; ++i) {\n        var state_1 = _loop_1(i);\n        if (typeof state_1 === \"object\") return state_1.value;\n    }\n    // if we run out of components, we can't cover all factorids with this set of components\n    return undefined;\n}\n\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\nexports.selectComponentsToCoverAllFirstFactors = selectComponentsToCoverAllFirstFactors;\n"],
  "mappings": "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",
  "names": ["require_error", "require_error", "require_cookieHandler", "require_cookieHandler", "PostSuperTokensInitCallbacks", "require_utils", "require_utils", "require_utils", "Querier", "_b", "d", "b", "AuthRecipe", "require_recipe", "d", "b", "Recipe", "require_dateProvider", "require_dateProvider", "SuperTokens", "require_build", "SuperTokensAPIWrapper", "require_cookieHandler", "require_postSuperTokensInitCallbacks", "require_windowHandler", "d", "b", "AllowedDomainsClaimClass", "RecipeWrapper", "require_multitenancy", "require_utils", "require_normalisedURLDomain", "require_normalisedURLPath", "d", "b", "i", "cookieScope", "fetch", "_a", "BaseRecipeModule", "Multitenancy", "TranslationController", "SuperTokens", "recipe", "RecipeModule", "require_utils", "require_recipeImplementation", "require_recipe", "d", "b", "Recipe", "RecipeWrapper", "require_oauth2provider", "OAuth2Provider", "validator", "Session", "i", "c"]
}
